{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\components/assets\\scripts\\components\\Hall.js"],"names":["cc","Class","extends","Component","properties","lblId","Label","lblName","lblBalance","lblMarquee","joinRoomWin","Node","createRoomWin","settingWin","spriteHead","Sprite","btnCreateRoom","Button","btnReturnRoom","btnJoinRoom","onLoad","initUserInfo","th","audioManager","playBGM","start","userManager","roomId","alert","show","onReturnRoomClicked","self","string","userId","userName","balance","node","active","log","headImgUrl","loader","load","url","type","err","texture","headSpriteFrame","SpriteFrame","Rect","width","height","spriteFrame","setScale","update","dt","x","onCreateRoomClicked","onJoinRoomClicked","wc","joinRoom","onSettingClicked"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAML,GAAGM,KADD;AAERC,iBAAQP,GAAGM,KAFH;AAGRE,oBAAWR,GAAGM,KAHN;AAIRG,oBAAWT,GAAGM,KAJN;AAKRI,qBAAYV,GAAGW,IALP;AAMRC,uBAAcZ,GAAGW,IANT;AAORE,oBAAWb,GAAGW,IAPN;AAQRG,oBAAWd,GAAGe,MARN;AASRC,uBAAchB,GAAGiB,MATT;AAURC,uBAAclB,GAAGiB,MAVT;AAWRE,qBAAYnB,GAAGiB;AAXP,KAHP;;AAiBLG,YAAQ,kBAAY;AAChB,aAAKC,YAAL;AACAC,WAAGC,YAAH,CAAgBC,OAAhB,CAAwB,aAAxB;AACH,KApBI;;AAsBLC,WAAM,iBAAU;AACZ,YAAGH,GAAGI,WAAH,CAAeC,MAAlB,EAAyB;AACrBL,eAAGM,KAAH,CAASC,IAAT,CAAc,IAAd,EAAmB,kBAAnB,EAAsC,KAAKC,mBAA3C,EAA+D,IAA/D;AACH;AACJ,KA1BI;;AA4BLT,kBAAa,wBAAU;AACnB,YAAIU,OAAK,IAAT;AACA,aAAK1B,KAAL,CAAW2B,MAAX,GAAoB,QAAMV,GAAGI,WAAH,CAAeO,MAAzC;AACA,aAAK1B,OAAL,CAAayB,MAAb,GAAsBV,GAAGI,WAAH,CAAeQ,QAArC;AACA,aAAK1B,UAAL,CAAgBwB,MAAhB,GAAyBV,GAAGI,WAAH,CAAeS,OAAxC;AACA,YAAGb,GAAGI,WAAH,CAAeC,MAAlB,EAAyB;AACrB,iBAAKR,WAAL,CAAiBiB,IAAjB,CAAsBC,MAAtB,GAA6B,KAA7B;AACA,iBAAKnB,aAAL,CAAmBkB,IAAnB,CAAwBC,MAAxB,GAA+B,IAA/B;AACH,SAHD,MAGK;AACD,iBAAKlB,WAAL,CAAiBiB,IAAjB,CAAsBC,MAAtB,GAA6B,IAA7B;AACA,iBAAKnB,aAAL,CAAmBkB,IAAnB,CAAwBC,MAAxB,GAA+B,KAA/B;AACH;AACDrC,WAAGsC,GAAH,CAAOhB,GAAGI,WAAH,CAAea,UAAtB;AACAvC,WAAGwC,MAAH,CAAUC,IAAV,CAAe,EAACC,KAAKpB,GAAGI,WAAH,CAAea,UAArB,EAAiCI,MAAM,KAAvC,EAAf,EAA8D,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AAClF,gBAAG,CAACD,GAAJ,EAAQ;AACJ,oBAAIE,kBAAkB,IAAI9C,GAAG+C,WAAP,CAAmBF,OAAnB,EAA4B7C,GAAGgD,IAAH,CAAQ,CAAR,EAAW,CAAX,EAAcH,QAAQI,KAAtB,EAA6BJ,QAAQK,MAArC,CAA5B,CAAtB;AACAnB,qBAAKjB,UAAL,CAAgBqC,WAAhB,GAA4BL,eAA5B;AACAf,qBAAKjB,UAAL,CAAgBsB,IAAhB,CAAqBgB,QAArB,CAA8B,IAAGP,QAAQI,KAAR,GAAc,GAA/C;AACH;AACJ,SAND;AAOH,KAhDI;;AAkDLI,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAIC,IAAI,KAAK9C,UAAL,CAAgB2B,IAAhB,CAAqBmB,CAA7B;AACAA,aAAKD,KAAG,GAAR;AACA,YAAGC,IAAI,KAAK9C,UAAL,CAAgB2B,IAAhB,CAAqBa,KAAzB,GAAiC,CAAC,GAArC,EAAyC;AACrCM,gBAAI,GAAJ;AACH;AACD,aAAK9C,UAAL,CAAgB2B,IAAhB,CAAqBmB,CAArB,GAAyBA,CAAzB;AACH,KAzDI;;AA2DL;;AAEA;;AAEAC,yBAAsB,+BAAU;AAC5B,aAAK5C,aAAL,CAAmByB,MAAnB,GAA0B,IAA1B;AACH,KAjEI;;AAmELoB,uBAAoB,6BAAU;AAC1B,aAAK/C,WAAL,CAAiB2B,MAAjB,GAAwB,IAAxB;AACH,KArEI;;AAuELP,yBAAsB,+BAAU;AAC5BR,WAAGoC,EAAH,CAAM7B,IAAN,CAAW,UAAX;AACA;AACAP,WAAGI,WAAH,CAAeiC,QAAf,CAAwBrC,GAAGI,WAAH,CAAeC,MAAvC;AACH,KA3EI;;AA6ELiC,sBAAmB,4BAAU;AACzB,aAAK/C,UAAL,CAAgBwB,MAAhB,GAAuB,IAAvB;AACH;;AA/EI,CAAT","file":"Hall.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        lblId:cc.Label,\r\n        lblName:cc.Label,\r\n        lblBalance:cc.Label,\r\n        lblMarquee:cc.Label,\r\n        joinRoomWin:cc.Node,\r\n        createRoomWin:cc.Node,\r\n        settingWin:cc.Node,\r\n        spriteHead:cc.Sprite,\r\n        btnCreateRoom:cc.Button,\r\n        btnReturnRoom:cc.Button,\r\n        btnJoinRoom:cc.Button\r\n    },\r\n\r\n    onLoad: function () {\r\n        this.initUserInfo();\r\n        th.audioManager.playBGM(\"bg_hall.mp3\");\r\n    },\r\n\r\n    start:function(){\r\n        if(th.userManager.roomId){\r\n            th.alert.show(\"提示\",\"你已在房间中，是否返回游戏房间？\",this.onReturnRoomClicked,true);\r\n        }\r\n    },\r\n\r\n    initUserInfo:function(){\r\n        var self=this;\r\n        this.lblId.string = \"ID:\"+th.userManager.userId;\r\n        this.lblName.string = th.userManager.userName;\r\n        this.lblBalance.string = th.userManager.balance;\r\n        if(th.userManager.roomId){\r\n            this.btnJoinRoom.node.active=false;\r\n            this.btnReturnRoom.node.active=true;\r\n        }else{\r\n            this.btnJoinRoom.node.active=true;\r\n            this.btnReturnRoom.node.active=false;\r\n        }\r\n        cc.log(th.userManager.headImgUrl);\r\n        cc.loader.load({url: th.userManager.headImgUrl, type: 'jpg'}, function (err, texture) {\r\n            if(!err){\r\n                var headSpriteFrame = new cc.SpriteFrame(texture, cc.Rect(0, 0, texture.width, texture.height));\r\n                self.spriteHead.spriteFrame=headSpriteFrame;\r\n                self.spriteHead.node.setScale(2-(texture.width/106));\r\n            }\r\n        });\r\n    },\r\n\r\n    update: function (dt) {\r\n        var x = this.lblMarquee.node.x;\r\n        x -= dt*100;\r\n        if(x + this.lblMarquee.node.width < -250){\r\n            x = 260;\r\n        }\r\n        this.lblMarquee.node.x = x;\r\n    },\r\n\r\n    // start: function (dt) {\r\n\r\n    // },\r\n\r\n    onCreateRoomClicked : function(){\r\n        this.createRoomWin.active=true;\r\n    },\r\n\r\n    onJoinRoomClicked : function(){\r\n        this.joinRoomWin.active=true;\r\n    },\r\n\r\n    onReturnRoomClicked : function(){\r\n        th.wc.show('正在返回游戏房间');\r\n        //cc.director.loadScene(\"game\");  \r\n        th.userManager.joinRoom(th.userManager.roomId);\r\n    },\r\n\r\n    onSettingClicked : function(){\r\n        this.settingWin.active=true;\r\n    }\r\n\r\n});\r\n"]}