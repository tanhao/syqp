{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\components/assets\\scripts\\components\\Status.js"],"names":["cc","Class","extends","Component","properties","roomId","Label","time","delay","battery","ProgressBar","_updateInterval","_lastUpdateTime","_red","Color","_yellow","_green","onLoad","string","th","socketIOManager","round","update","dt","Date","now","sio","node","color","hour","getHours","min","getMinutes","progress","anysdkManager","getBatteryPercent"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACTC,gBAAOL,GAAGM,KADD;AAETC,cAAKP,GAAGM,KAFC;AAGTE,eAAMR,GAAGM,KAHA;AAITG,iBAAQT,GAAGU,WAJF;AAKTC,yBAAgB,IALP;AAMTC,yBAAgB,CANP;AAOTC,cAAM,IAAIb,GAAGc,KAAP,CAAa,GAAb,EAAiB,CAAjB,EAAmB,CAAnB,CAPG;AAQTC,iBAAS,IAAIf,GAAGc,KAAP,CAAa,GAAb,EAAiB,GAAjB,EAAqB,CAArB,CARA;AASTE,gBAAQ,IAAIhB,GAAGc,KAAP,CAAa,CAAb,EAAe,GAAf,EAAmB,CAAnB;AATC,KAHP;;AAeLG,UAfK,oBAeK;AACL,aAAKZ,MAAL,CAAYa,MAAZ,GAAmBC,GAAGC,eAAH,CAAmBf,MAAnB,IAA6B,QAAhD;AACA,aAAKgB,KAAL,CAAWH,MAAX,GAAkBC,GAAGC,eAAH,CAAmBC,KAAnB,IAA0B,IAA1B,GAA+B,GAA/B,GAAoCF,GAAGC,eAAH,CAAmBC,KAAnB,GAAyB,EAA/E;AACJ,KAlBI;AAuBLC,UAvBK,kBAuBGC,EAvBH,EAuBO;AACR,YAAGC,KAAKC,GAAL,KAAW,KAAKb,eAAhB,GAAgC,KAAKD,eAAxC,EAAwD;AACpD,iBAAKH,KAAL,CAAWU,MAAX,GAAkBC,GAAGO,GAAH,CAAOlB,KAAP,GAAa,IAA/B;AACA,iBAAKI,eAAL,GAAqBY,KAAKC,GAAL,EAArB;AACA,gBAAGN,GAAGO,GAAH,CAAOlB,KAAP,GAAe,GAAlB,EAAsB;AAClB,qBAAKA,KAAL,CAAWmB,IAAX,CAAgBC,KAAhB,GAAwB,KAAKf,IAA7B;AACH,aAFD,MAEM,IAAGM,GAAGO,GAAH,CAAOlB,KAAP,GAAe,GAAlB,EAAsB;AACxB,qBAAKA,KAAL,CAAWmB,IAAX,CAAgBC,KAAhB,GAAwB,KAAKb,OAA7B;AACH,aAFK,MAED;AACD,qBAAKP,KAAL,CAAWmB,IAAX,CAAgBC,KAAhB,GAAwB,KAAKZ,MAA7B;AACH;AACD,gBAAIS,MAAI,IAAID,IAAJ,EAAR;AACA,gBAAIK,OAAKJ,IAAIK,QAAJ,EAAT;AACA,gBAAIC,MAAIN,IAAIO,UAAJ,EAAR;AACAH,mBAAKA,OAAK,EAAL,GAAS,MAAIA,IAAb,GAAmBA,IAAxB;AACAE,kBAAIA,MAAI,EAAJ,GAAQ,MAAIA,GAAZ,GAAiBA,GAArB;AACA,iBAAKxB,IAAL,CAAUW,MAAV,GAAiBW,OAAK,GAAL,GAASE,GAA1B;AACA,iBAAKtB,OAAL,CAAawB,QAAb,GAAsBd,GAAGe,aAAH,CAAiBC,iBAAjB,EAAtB;AACH;AACJ;AA1CI,CAAT","file":"Status.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       roomId:cc.Label,\r\n       time:cc.Label,\r\n       delay:cc.Label,\r\n       battery:cc.ProgressBar,\r\n       _updateInterval:1000,\r\n       _lastUpdateTime:0,\r\n       _red: new cc.Color(205,0,0),\r\n       _yellow: new cc.Color(255,200,0),\r\n       _green: new cc.Color(0,205,0)\r\n    },\r\n\r\n    onLoad () {\r\n         this.roomId.string=th.socketIOManager.roomId || '------';\r\n         this.round.string=th.socketIOManager.round==null?'-':(th.socketIOManager.round+'');\r\n    },\r\n\r\n    \r\n\r\n\r\n    update (dt) {\r\n        if(Date.now()-this._lastUpdateTime>this._updateInterval){\r\n            this.delay.string=th.sio.delay+\"ms\";\r\n            this._lastUpdateTime=Date.now();\r\n            if(th.sio.delay > 800){\r\n                this.delay.node.color = this._red;\r\n            }else if(th.sio.delay > 300){\r\n                this.delay.node.color = this._yellow;\r\n            }else{\r\n                this.delay.node.color = this._green;\r\n            }\r\n            var now=new Date();\r\n            var hour=now.getHours();\r\n            var min=now.getMinutes();\r\n            hour=hour<10?('0'+hour):hour;\r\n            min=min<10?('0'+min):min;\r\n            this.time.string=hour+\":\"+min;\r\n            this.battery.progress=th.anysdkManager.getBatteryPercent();\r\n        }\r\n    },\r\n\r\n\r\n  \r\n\r\n});\r\n"]}